<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OpenCV</title>
    <link rel="stylesheet" href="style-opencv1.css">
</head>
<body>
    <div class="content-container">
        <!-- 제목 -->
        <h1>OpenCV</h1>

        <!-- 첫 번째 이미지 섹션 -->
        <h2>1. 이미지 읽기와 표시</h2>
        <div class="image-section">
            <img src="openCV images/1.png" alt="OpenCV 첫 번째 이미지" class="opencv-image">
        </div>

        <!-- 첫 번째 설명 -->
        <div class="description-section">
            <ol>
                <li><code>import cv2 as cv</code><br>
                    OpenCV 라이브러리를 <code>cv</code>라는 이름으로 가져옵니다. 이 라이브러리는 컴퓨터 비전 작업에 사용됩니다.
                </li>
                <li><code>import sys</code><br>
                    Python의 시스템 관련 기능을 사용하기 위해 <code>sys</code> 모듈을 가져옵니다.
                </li>
                <li><code>img=cv.imread('soccer.jpg')</code><br>
                    <code>soccer.jpg</code> 이미지를 읽어 <code>img</code> 변수에 저장합니다.
                </li>
                <li><code>if img is None:</code><br>
                    파일이 존재하지 않거나 읽기에 실패한 경우, <code>img</code> 변수는 <code>None</code> 값을 가집니다.
                </li>
                <li><code>sys.exit('파일을 찾을 수 없습니다.')</code><br>
                    이미지 파일을 찾지 못했을 경우, 프로그램을 종료하고 메시지를 출력합니다.
                </li>
                <li><code>cv.imshow('Image Display', img)</code><br>
                    읽어온 이미지를 새 창에 표시합니다. 창의 제목은 <code>'Image Display'</code>입니다.
                </li>
                <li><code>cv.waitKey()</code><br>
                    키 입력이 있을 때까지 프로그램을 대기 상태로 유지합니다.
                </li>
                <li><code>cv.destroyAllWindows()</code><br>
                    모든 OpenCV 창을 닫습니다.
                </li>
            </ol>
        </div>

        <!-- 두 번째 이미지 섹션 -->
        <h2>2. 이미지 회색조 변환 및 축소</h2>
        <div class="image-section">
            <img src="openCV images/2.png" alt="OpenCV 두 번째 이미지" class="opencv-image">
        </div>

        <!-- 두 번째 설명 -->
        <div class="description-section">
            <ol>
                <li><code>import cv2 as cv</code><br>
                    OpenCV 라이브러리를 <code>cv</code>라는 이름으로 가져옵니다.
                </li>
                <li><code>import sys</code><br>
                    Python의 시스템 관련 기능을 사용하기 위해 <code>sys</code> 모듈을 가져옵니다.
                </li>
                <li><code>img=cv.imread('soccer.jpg')</code><br>
                    이미지 파일 <code>soccer.jpg</code>를 읽어 <code>img</code> 변수에 저장합니다.
                </li>
                <li><code>gray=cv.cvtColor(img, cv.COLOR_BGR2GRAY)</code><br>
                    이미지를 회색조(Grayscale)로 변환하여 <code>gray</code> 변수에 저장합니다.
                </li>
                <li><code>gray_small=cv.resize(gray, dsize=(0, 0), fx=0.5, fy=0.5)</code><br>
                    이미지를 원래 크기의 50%로 축소하여 <code>gray_small</code> 변수에 저장합니다.
                </li>
                <li><code>cv.imwrite('soccer_gray.jpg', gray)</code><br>
                    회색조 이미지를 <code>soccer_gray.jpg</code>라는 파일로 저장합니다.
                </li>
                <li><code>cv.imwrite('soccer_gray_small.jpg', gray_small)</code><br>
                    축소된 회색조 이미지를 <code>soccer_gray_small.jpg</code>라는 파일로 저장합니다.
                </li>
                <li><code>cv.imshow('Color Image', img)</code><br>
                    원본 이미지를 'Color Image'라는 제목의 창에 표시합니다.
                </li>
                <li><code>cv.imshow('Gray Image', gray)</code><br>
                    회색조 이미지를 'Gray Image'라는 제목의 창에 표시합니다.
                </li>
                <li><code>cv.imshow('Gray Small Image', gray_small)</code><br>
                    축소된 회색조 이미지를 'Gray Small Image'라는 제목의 창에 표시합니다.
                </li>
                <li><code>cv.waitKey()</code><br>
                    키 입력이 있을 때까지 창을 유지합니다.
                </li>
                <li><code>cv.destroyAllWindows()</code><br>
                    모든 OpenCV 창을 닫습니다.
                </li>
            </ol>
        </div>

        <!-- 세 번째 이미지 섹션 -->
        <h2>3. 실시간 비디오 스트림 처리</h2>
        <div class="image-section">
            <img src="openCV images/3.png" alt="OpenCV 세 번째 이미지" class="opencv-image">
        </div>

        <!-- 세 번째 설명 -->
        <div class="description-section">
            <ol>
                <li><code>import cv2 as cv</code><br>
                    OpenCV 라이브러리를 <code>cv</code>라는 이름으로 가져옵니다. 영상 처리에 필요한 주요 함수들을 제공합니다.
                </li>
                <li><code>import sys</code><br>
                    시스템 관련 기능을 제공하는 Python 표준 라이브러리입니다.
                </li>
                <li><code>cap=cv.VideoCapture(0, cv.CAP_DSHOW)</code><br>
                    웹캠을 열어 비디오 캡처 객체를 생성합니다.
                </li>
                <li><code>if not cap.isOpened():</code><br>
                    비디오 캡처 객체가 정상적으로 열리지 않았다면, 아래 코드를 실행합니다.
                </li>
                <li><code>sys.exit('카메라 오류 발생')</code><br>
                    카메라에 연결이 실패한 경우 프로그램을 종료하고 메시지를 출력합니다.
                </li>
                <li><code>while True:</code><br>
                    실시간으로 카메라에서 영상을 계속 읽기 위한 루프를 실행합니다.
                </li>
                <li><code>ret, frame = cap.read()</code><br>
                    카메라에서 프레임을 읽습니다.
                </li>
                <li><code>if not ret:</code><br>
                    프레임 읽기에 실패한 경우, 메시지를 출력하고 루프를 종료합니다.
                </li>
                <li><code>cv.imshow('Video Display', frame)</code><br>
                    읽어온 프레임을 'Video Display'라는 제목의 창에 표시합니다.
                </li>
                <li><code>key=cv.waitKey(1)</code><br>
                    1밀리초 동안 키 입력을 기다립니다.
                </li>
                <li><code>if key==ord('q'):</code><br>
                    'q' 키가 입력되면 루프를 종료합니다.
                </li>
                <li><code>cap.release()</code><br>
                    비디오 캡처 객체를 해제합니다.
                </li>
                <li><code>cv.destroyAllWindows()</code><br>
                    OpenCV 생성된 모든 창을 닫습니다.
                </li>
            </ol>
        </div>
        <!-- 네 번째 이미지 섹션 -->
        <h2>4. 이미지에 도형 및 텍스트 추가</h2>
        <div class="image-section">

            <img src="openCV images/4.png" alt="OpenCV 네 번째 이미지" class="opencv-image">
        </div>

        <!-- 네 번째 설명 -->
        <div class="description-section">

            <ol>

                <li><code>import cv2 as cv</code><br>
                    OpenCV 라이브러리를 <code>cv</code>라는 이름으로 가져옵니다.
                </li>
                <li><code>import sys</code><br>
                    시스템 관련 기능을 사용하기 위해 <code>sys</code> 모듈을 가져옵니다.
                </li>
                <li><code>img = cv.imread('girl_laughing.jpg')</code><br>
                    <code>girl_laughing.jpg</code> 이미지를 읽어 <code>img</code> 변수에 저장합니다.
                </li>
                <li><code>if img is None:</code><br>
                    이미지가 존재하지 않거나 경로가 잘못된 경우 실행합니다.
                </li>
                <li><code>sys.exit('파일을 찾을 수 없습니다.')</code><br>
                    이미지 파일이 없거나 잘못된 경우 프로그램을 종료하며 메시지를 출력합니다.
                </li>
                <li><code>cv.rectangle(img, (830, 30), (1000, 200), (0, 255, 0), 2)</code><br>
                    이미지 위에 녹색(BGR: <code>(0, 255, 0)</code>) 사각형을 그립니다. 시작점은 (830, 30), 오른쪽 아래 좌표는 (1000, 200)입니다.
                </li><li><code>cv.putText(img, 'laugh', (830, 24), cv.FONT_HERSHEY_SIMPLEX, 1, (255, 0, 0), 2)</code><br>
                    이미지 위에 파란색(BGR: <code>(255, 0, 0)</code>) 텍스트 'laugh'를 추가합니다. 텍스트는 (830, 24) 위치에 표시되며, <code>cv.FONT_HERSHEY_SIMPLEX</code>는 글꼴 스타일을 지정합니다.
                </li>
                <li><code>cv.imshow('Draw', img)</code><br>
                    수정된 이미지를 'Draw'라는 제목의 창에 표시합니다.
                </li>
                <li><code>cv.waitKey()</code><br>
                    키 입력이 있을 때까지 창을 열어 둡니다.
                </li>
                <li><code>cv.destroyAllWindows()</code><br>
                    모든 OpenCV 창을 닫습니다.
                </li>
            </ol>
        </div>
        <!-- 다섯 번째 이미지 섹션 -->
        <h2>5. 마우스 이벤트 활용: 사각형 그리기</h2>
        <div class="image-section">
            <img src="openCV images/5.png" alt="OpenCV 다섯 번째 이미지" class="opencv-image">
        </div>
        <!-- 다섯 번째 설명 -->
        <div class="description-section">
            <ol>
                <li><code>import cv2 as cv</code><br>
                    OpenCV 라이브러리를 <code>cv</code>라는 이름으로 가져옵니다.
                </li>
                <li><code>import sys</code><br>
                    시스템 관련 기능을 사용하기 위해 <code>sys</code> 모듈을 가져옵니다.
                </li>
                <li><code>img = cv.imread('girl_laughing.jpg')</code><br>
                    <code>girl_laughing.jpg</code> 이미지를 읽어 <code>img</code> 변수에 저장합니다.
                </li>
                <li><code>if img is None:</code><br>
                    이미지가 없을 경우 프로그램이 종료됩니다.
                </li>
                <li><code>ix, iy = -1, -1</code><br>
                    전역 변수를 마우스 클릭 시 좌표로 지정하기 위해 사용됩니다.
                </li>
                <li><code>def draw(event, x, y, flags, param):</code><br>
                    마우스 이벤트 처리를 위한 콜백 함수입니다.
                </li>
                <ul>
                    <li><code>if event == cv.EVENT_LBUTTONDOWN:</code><br>
                        마우스 왼쪽 버튼이 눌렸을 때, 현재 좌표 <code>(x, y)</code>를 <code>ix</code>와 <code>iy</code>에 저장합니다.
                    </li>
                    <li><code>elif event == cv.EVENT_LBUTTONUP:</code><br>
                        마우스 왼쪽 버튼을 뗄 때, 드래그한 영역에 빨간색 직사각형을 그립니다.<br>
                        <code>cv.rectangle()</code>를 사용하여 <code>(ix, iy)</code>와 <code>(x, y)</code>를 대각선 좌표로 하는 사각형을 생성합니다.
                    </li>
                    <li><code>elif event == cv.EVENT_RBUTTONDOWN:</code><br>
                        마우스 오른쪽 버튼이 눌리면, 해당 지점에서 고정 크기(100x100)의 파란색 직사각형을 그립니다.
                    </li>
                </ul>
                <li><code>cv.imshow('Drawing', img)</code><br>
                    변경된 이미지를 실시간으로 업데이트하여 표시합니다.
                </li>
                <li><code>cv.namedWindow('Drawing')</code><br>
                    <code>'Drawing'</code>이라는 이름의 창을 생성합니다.
                </li>
                <li><code>cv.setMouseCallback('Drawing', draw)</code><br>
                    마우스 이벤트 콜백 함수를 <code>'Drawing'</code> 창에 연결합니다.
                </li>
                <li><code>while True:</code><br>
                    프로그램이 실행되는 동안 계속 반복됩니다.
                </li>
                <ul>
                    <li><code>if cv.waitKey(20) & 0xFF == ord('q'):</code><br>
                        키 입력이 <code>'q'</code>일 경우, 프로그램이 종료됩니다.
                    </li>
                </ul>
                <li><code>cv.destroyAllWindows()</code><br>
                    모든 OpenCV 창을 닫습니다.
                </li>
            </ol>
        </div>
        <!-- 여섯 번째 이미지 섹션 -->
        <h2>6. 마우스 이벤트 활용: 드래그 및 고정 크기 그리기</h2>
        <div class="image-section">

            <img src="openCV images/6.png" alt="OpenCV 여섯 번째 이미지" class="opencv-image">
        </div>

        <!-- 여섯 번째 설명 -->
        <div class="description-section">
            <ol>
                <li><code>import cv2 as cv</code><br>
                    OpenCV 라이브러리를 <code>cv</code>라는 이름으로 가져옵니다.
                </li>
                <li><code>import sys</code><br>
                    시스템 관련 기능을 사용하기 위해 <code>sys</code> 모듈을 가져옵니다.
                </li>
                <li><code>img = cv.imread('girl_laughing.jpg')</code><br>
                    <code>girl_laughing.jpg</code> 이미지를 읽어 <code>img</code> 변수에 저장합니다.
                </li>
                <li><code>if img is None:</code><br>
                    이미지가 없을 경우 프로그램이 종료됩니다.
                </li>
                <li><code>ix, iy = -1, -1</code><br>
                    전역 변수를 마우스 클릭 시 초기 좌표로 지정하기 위해 사용됩니다.
                </li>
                <li><code>def draw(event, x, y, flags, param):</code><br>
                    마우스 이벤트 처리를 위한 콜백 함수입니다.
                </li>
                <ul>
                    <li><code>if event == cv.EVENT_LBUTTONDOWN:</code><br>
                        마우스 왼쪽 버튼이 눌렸을 때, 현재 좌표 <code>(x, y)</code>를 <code>ix</code>와 <code>iy</code>에 저장합니다.
                    </li>
                    <li><code>elif event == cv.EVENT_LBUTTONUP:</code><br>
                        마우스 왼쪽 버튼을 뗄 때, 드래그한 영역에 빨간색 직사각형을 그립니다.<br>
                        <code>cv.rectangle()</code>를 사용하여 <code>(ix, iy)</code>와 <code>(x, y)</code>를 대각선 좌표로 하는 사각형을 생성합니다.
                    </li>
                    <li><code>elif event == cv.EVENT_RBUTTONDOWN:</code><br>
                        마우스 오른쪽 버튼이 눌리면, 해당 지점에서 고정 크기(100x100)의 파란색 직사각형을 그립니다.
                    </li>
                </ul>
                <li><code>cv.imshow('Drawing', img)</code><br>
                    변경된 이미지를 실시간으로 업데이트하여 표시합니다.
                </li>
                <li><code>cv.namedWindow('Drawing')</code><br>
                    <code>'Drawing'</code>이라는 이름의 창을 생성합니다.
                </li>
                <li><code>cv.setMouseCallback('Drawing', draw)</code><br>
                    마우스 이벤트 콜백 함수를 <code>'Drawing'</code> 창에 연결합니다.
                </li>
                <li><code>while True:</code><br>
                    프로그램이 실행되는 동안 계속 반복됩니다.
                </li>
                <ul>
                    <li><code>if cv.waitKey(20) & 0xFF == ord('q'):</code><br>
                        키 입력이 <code>'q'</code>일 경우, 프로그램이 종료됩니다.
                    </li>
                </ul>
                <li><code>cv.destroyAllWindows()</code><br>
                    모든 OpenCV 창을 닫습니다.
                </li>
            </ol>
        </div>
        <!-- 마무리 멘트 -->
        <div class="closing-remarks">
            <p>
                오늘은 OpenCV를 활용한 기본적인 영상 처리와 마우스 이벤트 활용법에 대해 공부해보았습니다. 
                이미지를 다루는 기초적인 방법부터 실시간 비디오 스트림 처리, 그리고 다양한 도형 및 텍스트를 추가하는 방법까지 
                실습을 통해 이해할 수 있었습니다.
            </p>
            <p>
                한 단계씩 발전하는 과정에서 실력을 더욱 쌓아보겠습니다!
            </p>
        </div>
    </div>
</body>
</html>
